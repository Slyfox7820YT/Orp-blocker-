<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Orb Runner</title>

<style>
  body {
    margin: 0;
    background: #02030a;
    color: #fff;
    font-family: system-ui, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
  }

  canvas {
    border-radius: 24px;
    box-shadow: 0 40px 120px rgba(0,0,0,.9);
    pointer-events: none; /* âœ… IMPORTANT FIX */
  }

  .overlay {
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(0,0,0,.7);
    backdrop-filter: blur(8px);
    z-index: 10;
    pointer-events: auto;
  }

  .menu {
    background: linear-gradient(180deg, #12183a, #090c20);
    padding: 28px;
    border-radius: 20px;
    width: 320px;
    text-align: center;
  }

  .menu h1 {
    margin-top: 0;
  }

  .menu button {
    width: 100%;
    margin-top: 10px;
    padding: 12px;
    border-radius: 14px;
    border: none;
    cursor: pointer;
    background: linear-gradient(180deg, #7c88ff, #5661ff);
    color: white;
    font-size: 16px;
  }

  .menu button.secondary {
    background: #2a2f55;
  }
</style>
</head>

<body>

<canvas id="game" width="480" height="640"></canvas>

<div id="menu" class="overlay">
  <div class="menu">
    <h1>ORB RUNNER</h1>
    <p>Tap to dodge the orbs</p>
    <button onclick="startGame()">Start Game</button>
  </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let orbs = [];
let running = false;
let score = 0;

const player = {
  x: canvas.width / 2,
  y: canvas.height - 80,
  r: 15
};

function startGame() {
  document.getElementById("menu").style.display = "none";
  orbs = [];
  score = 0;
  running = true;
  loop();
}

canvas.addEventListener("click", e => {
  const rect = canvas.getBoundingClientRect();
  player.x = e.clientX - rect.left;
});

function spawnOrb() {
  orbs.push({
    x: Math.random() * canvas.width,
    y: -20,
    r: 10 + Math.random() * 10,
    v: 2 + Math.random() * 3
  });
}

function update() {
  if (Math.random() < 0.03) spawnOrb();

  orbs.forEach(o => o.y += o.v);

  orbs = orbs.filter(o => o.y < canvas.height + 50);

  for (let o of orbs) {
    const dx = o.x - player.x;
    const dy = o.y - player.y;
    const d = Math.sqrt(dx*dx + dy*dy);
    if (d < o.r + player.r) {
      running = false;
      document.getElementById("menu").style.display = "flex";
    }
  }

  score++;
}

function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle = "#fff";
  ctx.beginPath();
  ctx.arc(player.x, player.y, player.r, 0, Math.PI*2);
  ctx.fill();

  ctx.fillStyle = "#ff4d4d";
  orbs.forEach(o => {
    ctx.beginPath();
    ctx.arc(o.x, o.y, o.r, 0, Math.PI*2);
    ctx.fill();
  });

  ctx.fillStyle = "#aaa";
  ctx.fillText("Score: " + score, 12, 24);
}

function loop() {
  if (!running) return;
  update();
  draw();
  requestAnimationFrame(loop);
}
</script>

</body>
</html>

